//     EssentialJS v0.1.0
//     Copyright (c)2014 Roberto Dip
//     Distributed under MIT license
//     http://roperzh.github.io/essential.js
window.Essential={rootElement:document,Core:{},start:function(e){var t=this.Core.crawl(this.rootElement),r=Object.keys(t),n=-1;while(r[++n]){var i=r[n],o=this.Core.camelize(i),s=e[o];if(typeof s!=="undefined"){var a=t[i],c=-1;while(a[++c]){s.new(a[c])}}}}};if(!Object.getOwnPropertyDescriptors){Object.getOwnPropertyDescriptors=function(e){var t={};Object.getOwnPropertyNames(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)});return t}}var Proto={"new":function(){var e=Object.create(this);if(e.constructor){e.constructor.apply(e,arguments)}return e},extend:function(e){var t=Object.create(this,Object.getOwnPropertyDescriptors(e));t.super=this;return t}};Function.prototype.extend=function(e){var t=this;var r=Proto.extend.call(t.prototype,Proto);return r.extend(e)};Essential.Behavior=Proto.extend({constructor:function(e){this.el=e;this.delegateEvents();if(typeof this.init==="function"){this.init()}},delegateEvents:function(){if(typeof this.events==="undefined"){return}var e=/^(\S+)\s*(.*)$/;for(var t in this.events){var r=this.events[t];var n=t.match(e);var i=n[1],o=n[2],s=o?this.el.querySelectorAll(o):[this.el];if(typeof this[r]==="undefined"){continue}Essential.Core.bind(i,s,this[r])}}});Essential.Core.bind=function(e,t,r){var n=-1;while(t[++n]){var i=t[n];if(i.addEventListener){t[n].addEventListener(e,r)}else{i.attachEvent("on"+e,r)}}};Essential.Core.SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g;Essential.Core.FIRST_LETTER_REGEXP=/^[a-z]/g;Essential.Core.camelize=function(e){return e.replace(Essential.Core.FIRST_LETTER_REGEXP,function(e){return e.toUpperCase()}).replace(Essential.Core.SPECIAL_CHARS_REGEXP,function(e,t,r){return r.toUpperCase()})};Essential.Core.crawl=function(e){var t=e.querySelectorAll("[data-behavior], [behavior]"),r=-1,n={};while(t[++r]){var i=t[r],o=i.getAttribute("data-behavior")||i.getAttribute("behavior"),s=o.split(" "),a=-1;while(s[++a]){var c=s[a];if(n[c]){n[c].push(i)}else{n[c]=[i]}}}return n};